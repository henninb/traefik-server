http:
  middlewares:
    security-headers:
      headers:
        frameDeny: true
        contentTypeNosniff: true
        browserXSSFilter: true
        referrerPolicy: "strict-origin-when-cross-origin"
        customRequestHeaders:
          X-Forwarded-Proto: "https"
        customResponseHeaders:
          X-Frame-Options: "DENY"
          X-Content-Type-Options: "nosniff"
          X-XSS-Protection: "1; mode=block"
          Referrer-Policy: "strict-origin-when-cross-origin"

  routers:
    pfsense-bhenning-router:
      rule: "Host(`pfsense.bhenning.com`)"
      service: pfsense-service
      entryPoints:
        - websecure
      middlewares:
        - security-headers
      tls: {}

    pfsense-brianhenning-router:
      rule: "Host(`pfsense.brianhenning.com`)"
      service: pfsense-service
      entryPoints:
        - websecure
      middlewares:
        - security-headers
      tls: {}

    finance-bhenning-router:
      rule: "Host(`finance.bhenning.com`)"
      service: finance-service
      entryPoints:
        - websecure
      middlewares:
        - security-headers
      tls: {}

    finance-brianhenning-router:
      rule: "Host(`finance.brianhenning.com`)"
      service: finance-service
      entryPoints:
        - websecure
      middlewares:
        - security-headers
      tls: {}

    gitlab-bhenning-router:
      rule: "Host(`gitlab.bhenning.com`)"
      service: gitlab-service
      entryPoints:
        - websecure
      middlewares:
        - security-headers
      tls: {}

    gitlab-brianhenning-router:
      rule: "Host(`gitlab.brianhenning.com`)"
      service: gitlab-service
      entryPoints:
        - websecure
      middlewares:
        - security-headers
      tls: {}

    ddwrt-bhenning-router:
      rule: "Host(`ddwrt.bhenning.com`)"
      service: ddwrt-service
      entryPoints:
        - websecure
      middlewares:
        - security-headers
      tls: {}

    ddwrt-brianhenning-router:
      rule: "Host(`ddwrt.brianhenning.com`)"
      service: ddwrt-service
      entryPoints:
        - websecure
      middlewares:
        - security-headers
      tls: {}

    jellyfin-bhenning-router:
      rule: "Host(`jellyfin.bhenning.com`)"
      service: jellyfin-service
      entryPoints:
        - websecure
      middlewares:
        - security-headers
      tls: {}

    jellyfin-brianhenning-router:
      rule: "Host(`jellyfin.brianhenning.com`)"
      service: jellyfin-service
      entryPoints:
        - websecure
      middlewares:
        - security-headers
      tls: {}

    proxmox-bhenning-router:
      rule: "Host(`proxmox.bhenning.com`)"
      service: proxmox-service
      entryPoints:
        - websecure
      middlewares:
        - security-headers
      tls: {}

    proxmox-brianhenning-router:
      rule: "Host(`proxmox.brianhenning.com`)"
      service: proxmox-service
      entryPoints:
        - websecure
      middlewares:
        - security-headers
      tls: {}

    switch0-bhenning-router:
      rule: "Host(`switch0.bhenning.com`)"
      service: switch0-service
      entryPoints:
        - websecure
      middlewares:
        - security-headers
      tls: {}

    switch0-brianhenning-router:
      rule: "Host(`switch0.brianhenning.com`)"
      service: switch0-service
      entryPoints:
        - websecure
      middlewares:
        - security-headers
      tls: {}

    switch1-bhenning-router:
      rule: "Host(`switch1.bhenning.com`)"
      service: switch1-service
      entryPoints:
        - websecure
      middlewares:
        - security-headers
      tls: {}

    switch1-brianhenning-router:
      rule: "Host(`switch1.brianhenning.com`)"
      service: switch1-service
      entryPoints:
        - websecure
      middlewares:
        - security-headers
      tls: {}

  services:
    pfsense-service:
      loadBalancer:
        servers:
          - url: "https://192.168.10.1:8006"

    finance-service:
      loadBalancer:
        servers:
          - url: "http://192.168.10.10:8443"

    gitlab-service:
      loadBalancer:
        servers:
          - url: "http://192.168.10.10:80"

    ddwrt-service:
      loadBalancer:
        servers:
          - url: "https://192.168.20.2:443"

    jellyfin-service:
      loadBalancer:
        servers:
          - url: "http://10.0.0.175:8096"

    proxmox-service:
      loadBalancer:
        servers:
          - url: "https://192.168.10.5:8006"

    switch0-service:
      loadBalancer:
        servers:
          - url: "http://192.168.10.30:80"

    switch1-service:
      loadBalancer:
        servers:
          - url: "http://192.168.10.31:80"

tls:
  certificates:
    - certFile: /app/bhenning.fullchain.pem
      keyFile: /app/bhenning.privkey.pem
    - certFile: /app/brianhenning.fullchain.pem
      keyFile: /app/brianhenning.privkey.pem
  stores:
    default:
      defaultCertificate:
        certFile: /app/bhenning.fullchain.pem
        keyFile: /app/bhenning.privkey.pem
  options:
    default:
      minVersion: "VersionTLS12"
      cipherSuites:
        - "TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256"
        - "TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384"
        - "TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305"
        - "TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256"
        - "TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA"
