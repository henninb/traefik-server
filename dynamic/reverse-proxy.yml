http:
  middlewares:
    security-headers:
      headers:
        frameDeny: true
        contentTypeNosniff: true
        browserXSSFilter: true
        referrerPolicy: "strict-origin-when-cross-origin"
        customRequestHeaders:
          X-Forwarded-Proto: "https"
        customResponseHeaders:
          X-Frame-Options: "DENY"
          X-Content-Type-Options: "nosniff"
          X-XSS-Protection: "1; mode=block"
          Referrer-Policy: "strict-origin-when-cross-origin"

  routers:
    pfsense-bhenning-router:
      rule: "Host(`pfsense.bhenning.com`)"
      service: pfsense-service
      entryPoints:
        - websecure
      middlewares:
        - security-headers
      tls:
        certResolver: "default"

    pfsense-brianhenning-router:
      rule: "Host(`pfsense.brianhenning.com`)"
      service: pfsense-service
      entryPoints:
        - websecure
      middlewares:
        - security-headers
      tls:
        certResolver: "default"

    finance-bhenning-router:
      rule: "Host(`finance.bhenning.com`)"
      service: finance-service
      entryPoints:
        - websecure
      middlewares:
        - security-headers
      tls:
        certResolver: "default"

    finance-brianhenning-router:
      rule: "Host(`finance.brianhenning.com`)"
      service: finance-service
      entryPoints:
        - websecure
      middlewares:
        - security-headers
      tls:
        certResolver: "default"

    gitlab-bhenning-router:
      rule: "Host(`gitlab.bhenning.com`)"
      service: gitlab-service
      entryPoints:
        - websecure
      middlewares:
        - security-headers
      tls:
        certResolver: "default"

    gitlab-brianhenning-router:
      rule: "Host(`gitlab.brianhenning.com`)"
      service: gitlab-service
      entryPoints:
        - websecure
      middlewares:
        - security-headers
      tls:
        certResolver: "default"

    ddwrt-bhenning-router:
      rule: "Host(`ddwrt.bhenning.com`)"
      service: ddwrt-service
      entryPoints:
        - websecure
      middlewares:
        - security-headers
      tls:
        certResolver: "default"

    ddwrt-brianhenning-router:
      rule: "Host(`ddwrt.brianhenning.com`)"
      service: ddwrt-service
      entryPoints:
        - websecure
      middlewares:
        - security-headers
      tls:
        certResolver: "default"

    jellyfin-bhenning-router:
      rule: "Host(`jellyfin.bhenning.com`)"
      service: jellyfin-service
      entryPoints:
        - websecure
      middlewares:
        - security-headers
      tls:
        certResolver: "default"

    jellyfin-brianhenning-router:
      rule: "Host(`jellyfin.brianhenning.com`)"
      service: jellyfin-service
      entryPoints:
        - websecure
      middlewares:
        - security-headers
      tls:
        certResolver: "default"

    proxmox-bhenning-router:
      rule: "Host(`proxmox.bhenning.com`)"
      service: proxmox-service
      entryPoints:
        - websecure
      middlewares:
        - security-headers
      tls:
        certResolver: "default"

    proxmox-brianhenning-router:
      rule: "Host(`proxmox.brianhenning.com`)"
      service: proxmox-service
      entryPoints:
        - websecure
      middlewares:
        - security-headers
      tls:
        certResolver: "default"

    switch0-bhenning-router:
      rule: "Host(`switch0.bhenning.com`)"
      service: switch0-service
      entryPoints:
        - websecure
      middlewares:
        - security-headers
      tls:
        certResolver: "default"

    switch0-brianhenning-router:
      rule: "Host(`switch0.brianhenning.com`)"
      service: switch0-service
      entryPoints:
        - websecure
      middlewares:
        - security-headers
      tls:
        certResolver: "default"

    switch1-bhenning-router:
      rule: "Host(`switch1.bhenning.com`)"
      service: switch1-service
      entryPoints:
        - websecure
      middlewares:
        - security-headers
      tls:
        certResolver: "default"

    switch1-brianhenning-router:
      rule: "Host(`switch1.brianhenning.com`)"
      service: switch1-service
      entryPoints:
        - websecure
      middlewares:
        - security-headers
      tls:
        certResolver: "default"

  services:
    pfsense-service:
      loadBalancer:
        servers:
          - url: "https://192.168.10.1:8006"

    finance-service:
      loadBalancer:
        servers:
          - url: "http://192.168.10.10:8443"

    gitlab-service:
      loadBalancer:
        servers:
          - url: "http://192.168.10.10:80"

    ddwrt-service:
      loadBalancer:
        servers:
          - url: "https://192.168.20.2:443"

    jellyfin-service:
      loadBalancer:
        servers:
          - url: "http://10.0.0.175:8096"

    proxmox-service:
      loadBalancer:
        servers:
          - url: "https://192.168.10.5:8006"

    switch0-service:
      loadBalancer:
        servers:
          - url: "http://192.168.10.30:80"

    switch1-service:
      loadBalancer:
        servers:
          - url: "http://192.168.10.31:80"

tls:
  certificates:
    certFile: /etc/ssl/certs/proxy.crt
    keyFile: /etc/ssl/private/proxy.key
    #   rootCA:
    #    files:
    #      - /etc/ssl/certs/proxy.crt
  stores:
    default:
      defaultCertificate:
        certFile: /etc/ssl/certs/proxy.crt
        keyFile: /etc/ssl/private/proxy.key
